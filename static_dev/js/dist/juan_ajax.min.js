"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}var csrftoken=$.cookie("csrftoken");function csrfSafeMethod(o){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(o)}function Quitar(o,e){$.ajax({beforeSend:function(o,e){csrfSafeMethod(e.type)||this.crossDomain||o.setRequestHeader("X-CSRFToken",csrftoken)},url:"/tienda/quitar/",type:"GET",data:{cada_producto_id:o,valor:e},success:function(o){$("#"+o[0].idproducto+" .vervalor").val(o[0].cantida);var e=o[0].cantida;console.log(_typeof(e)),0==e?(console.log("vacío"),localStorage.removeItem(o[0].idproducto.toString(),o[0].cantida.toString()),console.log(JSON.stringify(localStorage)),console.log("JSON.stringify(localStorage)"),$.ajax({url:"/tienda/crear_localstorage/",data:{producto:JSON.stringify(localStorage)},type:"get",dataType:"json",contentType:"application/json",success:function(){var o=window.location.origin+"/panel/carrito";window.location.href=o}})):(console.log("no vacío"),localStorage.setItem(o[0].idproducto.toString(),o[0].cantida.toString())),location.reload(),location.reload(),console.log("ok -----------")},error:function(){console.log("Error en carga de respuesta")}})}function Agregar(o,e){$.ajax({beforeSend:function(o,e){csrfSafeMethod(e.type)||this.crossDomain||o.setRequestHeader("X-CSRFToken",csrftoken)},url:"/tienda/agregar/",type:"GET",data:{cada_producto_id:o,valor:e},success:function(o){console.log(o[0].idproducto.toString()),console.log(o[0].cantida.toString()),localStorage.setItem(o[0].idproducto.toString(),o[0].cantida.toString()),location.reload(),console.log("ok++++++++++++++++++++++++")},error:function(){console.log("Error en carga de respuesta")}})}function AgregarValor(o,e){$.ajax({beforeSend:function(o,e){csrfSafeMethod(e.type)||this.crossDomain||o.setRequestHeader("X-CSRFToken",csrftoken)},url:"/tienda/agregar_valor/",type:"GET",data:{cada_producto_id:o,valor:e},success:function(o){console.log(o[0].idproducto.toString()),console.log(o[0].cantida.toString()),localStorage.setItem(o[0].idproducto.toString(),o[0].cantida.toString()),location.reload(),console.log("ok++++++++++++++++++++++++")},error:function(){console.log("Error en carga de respuesta")}})}function AgregarI(o,e){console.log("------aaaa-----"),console.log(o),console.log(e),console.log("------bbbb-----"),$.ajax({beforeSend:function(o,e){csrfSafeMethod(e.type)||this.crossDomain||o.setRequestHeader("X-CSRFToken",csrftoken)},url:"/tienda/agregar_i/",type:"GET",data:{cada_producto_id:o,valor:e},success:function(o){for($("#"+o[0].idproducto+" .vervalor").val(o[0].cantida),console.log(o[0].idproducto.toString()),console.log(o[0].cantida.toString()),localStorage.setItem(o[0].idproducto.toString(),o[0].cantida.toString()),i=0;i<localStorage.length;i++){var e;e=".cp_"+localStorage.key(i).toString(),$(e).attr("disabled",!0)}console.log("ok++++++++++++++++++++++++")},error:function(){console.log("Error en carga de respuesta")}})}function ImprimirProductos(o){print(o)}function agruparfunc(o){var e=JSON.stringify(o);$.ajax({beforeSend:function(o,e){csrfSafeMethod(e.type)||this.crossDomain||o.setRequestHeader("X-CSRFToken",csrftoken)},url:"/tienda/agrupar_productos_admin/",type:"GET",data:{mi_lista:e},contentType:"application/json; charset=utf-8",success:function(){var o=window.location.origin+"/admin/productos/producto";window.location.href=o,console.log("ok++++++++++++++++++++++++")},error:function(){console.log("Error en carga de respuesta")}})}function CambiarClave(o){$.ajax({beforeSend:function(o,e){csrfSafeMethod(e.type)||this.crossDomain||o.setRequestHeader("X-CSRFToken",csrftoken)},url:"/panel/actualizar_clave/",type:"GET",data:{clave:o},success:function(o){$("#resulado_actualizar_clave").html("<p>La clave fue actualizada correctamente a: <span style='font-size:20px; color:yellow;'>"+o[0].clave+"</span></p>"),location.reload(),console.log("ok -----------")},error:function(){console.log("Error en carga de respuesta")}})}$(".quitar").click(function(o){var e,a=$(this).parent().get(0).id,r=$(this).parent().find(".vervalor").val();for(console.log(a),console.log(r),console.log("JSON.stringify(localStorage)"),console.log(JSON.stringify(localStorage)),e=0;e<localStorage.length;e++){var t=localStorage.key(e);t.startsWith("prestige_")||(console.log("retorna NO verdadero !!!!!!!!!!!!!"),localStorage.removeItem(t),console.log("retorna NO verdadero !!!!!!!!!!!!!"))}for(e=0;e<localStorage.length;e++){var l=localStorage.key(e),n=localStorage[l];l==a?(console.log("-----111------"),console.log(l),console.log(r),r=n,console.log("-----111------")):console.log("no hay coincidencia")}Quitar(a,r)}),$(".agregar").click(function(o){o.preventDefault();var e,a=$(this).parent().get(0).id,r=$(this).parent().find(".vervalor").val();for(console.log(a),console.log(r),console.log("JSON.stringify(localStorage)"),console.log(JSON.stringify(localStorage)),e=0;e<localStorage.length;e++){var t=localStorage.key(e);console.log(_typeof(t)),t.startsWith("prestige_")||(console.log("retorna NO verdadero !!!!!!!!!!!!!"),localStorage.removeItem(t),console.log("retorna NO verdadero !!!!!!!!!!!!!"))}for(e=0;e<localStorage.length;e++){var l=localStorage.key(e),n=localStorage[l];l==a?(console.log("-----1112------"),console.log(l),console.log(r),r=n,console.log("-----1112------")):console.log("no hay coincidenciaaaa")}Agregar(a,r)}),$(".vervalor").focusout(function(o){o.preventDefault();var e,a=$(this).parent().get(0).id,r=$(this).parent().find(".vervalor").val();for(console.log(a),console.log(r),console.log("JSON.stringify(localStorage)"),console.log(JSON.stringify(localStorage)),e=0;e<localStorage.length;e++){var t=localStorage.key(e);t.startsWith("prestige_")||(console.log("retorna NO verdadero !!!!!!!!!!!!!"),localStorage.removeItem(t),console.log("retorna NO verdadero !!!!!!!!!!!!!"))}for(e=0;e<localStorage.length;e++){var l=localStorage.key(e);l==a?(console.log("-----111------"),console.log(l),console.log(r),r=r,console.log("-----111------")):console.log("no hay coincidencia")}console.log(a),console.log(r),AgregarValor(a,r)}),$(".agregar_i").click(function(o){o.preventDefault();var e,a=$(this).parent().find(".verid").val(),r=$(this).parent().find(".vervalor").val();for(console.log("JSON.stringify(localStorage)"),console.log(JSON.stringify(localStorage)),e=0;e<localStorage.length;e++){var t=localStorage.key(e);console.log("bbbbbbbb"),console.log(_typeof(t)),console.log(t),t.startsWith("prestige_")||(console.log("retorna NO verdadero !!!!!!!!!!!!!"),localStorage.removeItem(t),console.log("retorna NO verdadero !!!!!!!!!!!!!"))}for(e=0;e<localStorage.length;e++){var l=localStorage.key(e),n=localStorage[l];l==a?(console.log("-----111------"),console.log(l),console.log(r),r=n,console.log("-----111------")):console.log("no hay coincidencia")}console.log("----------s------------------"),console.log(a),console.log(r),console.log("----------s------------------"),AgregarI(a,r)}),$(".boton_carrito").click(function(){for(console.log("JSON.stringify(localStorage)"),console.log(JSON.stringify(localStorage)),console.log("JSON.stringify(localStorage)"),i=0;i<localStorage.length;i++){var o=localStorage.key(i);o.startsWith("prestige_")||(console.log("retorna NO verdadero !!!!!!!!!!!!!"),localStorage.removeItem(o),console.log("retorna NO verdadero !!!!!!!!!!!!!"))}$.ajax({url:"/tienda/crear_localstorage/",data:{producto:JSON.stringify(localStorage)},type:"get",dataType:"json",contentType:"application/json",success:function(){var o=window.location.origin+"/carro/carrito";window.location.href=o}})}),$(".eliminar_producto").click(function(o){var e,a=$(this).attr("id");for(console.log("!!!2222!!!!"),console.log(a),a=a.replace(/^el/,"prestige_"),console.log(a),console.log("JSON.stringify(localStorage)"),console.log(JSON.stringify(localStorage)),e=0;e<localStorage.length;e++){var r=localStorage.key(e);r.startsWith("prestige_")||(console.log("retorna NO verdadero !!!!!!!!!!!!!"),localStorage.removeItem(r),console.log("retorna NO verdadero !!!!!!!!!!!!!"))}localStorage.removeItem(a),console.log(JSON.stringify(localStorage)),console.log("JSON.stringify(localStorage)"),$.ajax({url:"/tienda/crear_localstorage/",data:{producto:JSON.stringify(localStorage)},type:"get",dataType:"json",contentType:"application/json",success:function(){var o=window.location.origin+"/panel/carrito";window.location.href=o}})}),$("#actualizar_c").focusout(function(o){var e=$(this).val();console.log(e),CambiarClave(e)});
//# sourceMappingURL=juan_ajax.min.js.map
